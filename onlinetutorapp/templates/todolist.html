<!DOCTYPE html>
    <html>
        {% load static %}
        {% block content %}
        <head>
            <link rel="stylesheet" href="{% static 'css/styles.css' %}">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        </head>

        <body>
            {% include 'messages.html' %}
        <div>

            <!-- <p> Lau Wan Jing: https://www.tutorialspoint.com/How-to-set-background-color-in-HTML -- Add background color </p> -->

            <ul>
                <p class="p1">E-Tutor</p>
                <li><a onclick="user()">Register</a></li>
                <li><a onclick="user()">Login</a></li>
                {% if userid %}
                <li><a href="{% url 'mainpage_user' userid %}"@{{ userid }}>Home Page</a></li>
                {% endif %}
            </ul>

            <!-- <p> Lau Wan Jing: second narvar bar as tab </p> -->

            <div class="tab">

                <!-- <p> Lau Wan Jing: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_navbar_icon </p> -->
                <i class="fa fa-fw fa-book"style="font-size:25px;"></i>
                <button onclick="courselist()">Course List</button>

                <!-- <p> Lau Wan Jing: https://www.w3schools.com/icons/tryit.asp?filename=tryicons_fa-comments </p> -->
                <i class="fa fa-comments"style="font-size:25px;"></i>
                <button onclick="discussionboard()">Discussion Board</button>

                <i class="fa fa-star"style="font-size:25px;"></i>
                <button onclick="grades()">Grades</button>

                <i class="fa fa-fw fa-trophy"style="font-size:25px;"></i>
                <button onclick="quizzes()">Quizzes</button>

                <i class="fa fa-fw fa-tasks"style="font-size:25px;"></i>
                <button>To-Do List</button>

            </div>

            <script type = "text/javascript">
                function courselist() {
                    window.location = "http://127.0.0.1:8000/courselist";
                }
                function discussionboard() {
                    window.location = "http://127.0.0.1:8000/discussionboard";
                }
                function grades() {
                    window.location = "http://127.0.0.1:8000/grades";
                }
                function quizzes() {
                    window.location = "http://127.0.0.1:8000/quizzes";
                }
                function user() {
                    alert("You have logged in into the account.");
                }
            </script>

            <!-- <p> Lau Wan Jing: https://www.w3schools.com/html/tryit.asp?filename=tryhtml_images_float -- Insert images 
            https://docs.djangoproject.com/en/4.0/howto/static-files/ -- static file </p> -->
            <img src="{% static 'img/INTILogo.png' %}" alt="Inti Penang Logo" style="float:right;width:160px;height:50px;">
            
            <br>
            <br>
            <br>

            <p>
                <img src="{% static 'img/todolist.png' %}" alt="todolist_icon"
                style="float:left;width:40px;height:40px;">
            </p>

            <p class="p3">
                To-Do List
            </p>
            
            <br>

            <!-- <p> Lau Wan Jing: https://www.foowebs.com/p14-How-to-confirm-before-submitting-a-form-with-popup-box delete task </p> -->
            <script LANGUAGE="JavaScript">
                function confirmDelete()
                {
                var agree=confirm("Are you sure you wish to delete this task?");
                if (agree)
                 return true ;
                else
                 return false ;
                }
            </script>

            <form action="todolist" method="post">
                <!-- <p> Lau Wan Jing: https://www.youtube.com/watch?v=OTmQOjsl0eg&ab_channel=Telusko -- crsf token jinja </p> -->
                {% csrf_token %}

                <p class="p5" style="display:inline-flex;">
                    Add Task:
                </p>

                <input type="text" name="task" value="" size="100"/>

                <br>
                <br>

                <p class="p5" style="display:inline-flex;">
                    Time:
                </p>

                <!-- <p> Lau Wan Jing: https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_type_datetime-local -- input time </p> -->
                <input type="datetime-local" id="timeend" name="timeend">

                <br>
                <br>
                <input type="submit" class="submit" value="Add"></input>
            </form>



                <table id="tasktable">
                    <tr>
                      <th>Task</th>
                      <th>Time</th>
                      <th>Status</th>
                      <th>Delete</th>
                    </tr>
                    {% if todolist != null %}
                     {% for todo in todolist %}
                     <form action="todolist" method="POST">
                        {% csrf_token %}
                     <tr>
                       <td> {{todo.task}} </td>
                         <td>
                            {{todo.timeend}}
                         </td>
                     <td>
                        <!-- <p> Lau Wan Jing: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_custom_checkbox </p> -->
                      <!--  <label class="containercheckbox">-->
                            {% if todo.status == 1 %}
                             <input type="checkbox" checked name="checkbox" value = '1' onclick="this.form.submit()">
                             <input type="text" name="checkbox" hidden value="1">
                             <input type="text" name="id" hidden value={{todo.id}}>
                             <!--<span class="checkmark"></span>-->
                             {% endif %}
                            {% if todo.status == 0 %}
                             <input type="checkbox" name="checkbox" value = '0' onclick="this.form.submit()">
                             <input type="text" name="checkbox" hidden value="0">
                             <input type="text" name="id" hidden value={{todo.id}}>
                             {% endif %}
              
                     </td>
                      <td><INPUT type='submit' value='Delete' name='delete' onClick='return confirmDelete()'></td>
                     </tr>
                    </form>
                     {% endfor %}
                    {% endif %}
                  </table>

                  

            
        </div>
        </body>
        {% endblock content %}
    </html>