<!DOCTYPE html>
    <html>
        {% load static %}
        {% block content %}
        <head>
            <link rel="stylesheet" href="{% static 'css/styles.css' %}">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        </head>
        {% include 'messages.html' %}
        <body>
        <div>

            <!-- <p> Lau Wan Jing: https://www.tutorialspoint.com/How-to-set-background-color-in-HTML -- Add background color </p> -->

            <ul>
                <p class="p1">E-Tutor</p>
                <li><a onclick="user()">Register</a></li>
                <li><a onclick="user()">Login</a></li>
                <!-- <p> Lau Wan Jing: need to redirect to mainpage user </p> -->
                <li><a href="{% url 'mainpage_user' userid %}"@{{userid}}>Home Page</a></li>
            </ul>

            <!-- <p> Lau Wan Jing: second narvar bar as tab </p> -->

            <div class="tab">

                <!-- <p> Lau Wan Jing: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_navbar_icon </p> -->
                <i class="fa fa-fw fa-book"style="font-size:25px;"></i>
                <button><a style="text-decoration: none; color:black" href="{% url 'courselist' userid %}"@{{userid}}>Course List</button></a>

                <!-- <p> Lau Wan Jing: https://www.w3schools.com/icons/tryit.asp?filename=tryicons_fa-comments </p> -->
                <i class="fa fa-comments"style="font-size:25px;"></i>
                <button><a onclick="discussionboard()">Discussion Board</button></a>

                <i class="fa fa-star"style="font-size:25px;"></i>
                <button><a onclick="grades()">Grades</button></a>

                <i class="fa fa-fw fa-trophy"style="font-size:25px;"></i>
                <button><a onclick="quizzes()">Quizzes</button></a>

                <i class="fa fa-fw fa-tasks"style="font-size:25px;"></i>
                <button><a style="text-decoration: none; color:black" href="{% url 'todolist' userid %}"@{{userid}}>To-Do List</button></a>

            </div>

            <script type = "text/javascript">
                // Lau Wan Jing: https://sebhastian.com/javascript-display-text/ -- alert box
                function user() {
                    alert("You have logged in into the account.");
                }
                function discussionboard() {
                    window.location = "http://127.0.0.1:8000/discussionboard";
                }
                function grades() {
                    window.location = "http://127.0.0.1:8000/grades";
                }
                function quizzes() {
                    window.location = "http://127.0.0.1:8000/quizzes";
                }
            </script>

            <!-- <p> Lau Wan Jing: https://www.w3schools.com/html/tryit.asp?filename=tryhtml_images_float -- Insert images 
            https://docs.djangoproject.com/en/4.0/howto/static-files/ -- static file </p> -->
            <img src="{% static 'img/INTILogo.png' %}" alt="Inti Penang Logo"
                style="float:right;width:160px;height:50px;"
            >
            
            <br>

            <p>
                <img src="{% static 'img/courselist.png' %}" alt="Course_icon"
                style="float:left;width:50px;height:50px;">
            </p>
            
            <p class="p3">Computer Architecture and Network</p>

            <br>

            <p class="p4">The subject materials are in three formats: pptx,pdf and mp4 files.</p>


                {% if roleid == 1 or 2 %}
                    <!--<p align="right">
                    <input type="submit" value="Delete Materials"></input>
                    <input type="text" name="id" hidden value={{i.0}}></input>
                    <input type="submit" value="Add Materials"></input>
                    <input type="text" name="id" hidden value={{i.0}}></input>
                    </p> -->
                {% endif %}

                <br>
                <br>
                <br>

                <!-- Oh Wen Chi:https://stackoverflow.com/questions/15461811/html-canvas-with-scrollbar -->
                <div style="max-height: 390px;max-width:1500px;overflow: scroll;">
                {% for i in list %}
                <!-- Oh Wen Chi:https://www.w3schools.com/html/html_blocks.asp -->

                <style>
                    .buttons {
                    width: 50px;
                    margin: 0 auto;
                    }
                    
                    .action_btn {
                    display: inline-block;
                    width: calc(50% - 4px);
                    margin: 0 auto;
                    }
                </style>
                
                <!-- Oh Wen Chi:https://www.w3schools.com/jsref/event_onclick.asp -->
                <script type = "text/javascript">
                    function editmaterials() {
                        let coursematerialid = encodeURI('i.0');
                        let url = `http://127.0.0.1:8000/editmaterials/${coursematerialid}`;
                        window.location(url); //Lau Wan Jing: https://javascript.info/urll
                        //window.location = "http://127.0.0.1:8000/editmaterials";
                    }
                </script>

                {% if roleid == 1 or 2 %}
                <!--
                <button type="submit" class="submit" value="edit" >Edit</button></a> 
                <input type="text" name="id" hidden value={{i.0}}>-->
                <div style="border: 1px solid black; background: lightgrey;">
                <input type="submit" name="edit" value='Edit' onclick="this.form.submit()">
                <input type="text" name="submit" hidden value="Edit">
                <input type="text" name="id" hidden value={{i.0}}>
                    <!-- <p align="right">
                    <input type="button" value="Edit">
                    </p> href="{% url 'editmaterials' i.0 %}"@{{ i.0 }}-->
                {% endif %}

                        <div style="background: lightgrey;display: inline;">
                            <p class="p5" style="display:inline-flex;">Chapter:</p>
                            <p class="p4" style="display:inline-flex;">{{i.5}}</p>
                        </div>
                        <p>
                            <!-- Oh Wen Chi:https://www.youtube.com/watch?v=7c4cNgD5KNA -->
                            <p class="p5" style="display:inline-flex;">Title:</p>
                            <p class="p4" style="display:inline-flex;">{{i.1}}</p>
                            <br>
                            <br>
                            <p class="p5" style="display:inline-flex;">Description:</p>
                            <p class="p4" style="display:inline-flex;">{{i.2}}</p>
                            <br>
                            <p class="p5" style="display:inline-flex;">Attached File:</p>
                            <p style="display:inline-flex;">{{i.3}}</p>
                        </p>
                </div>
                {% endfor %}

                <canvas width="512px" height="490px"></canvas>

                <script LANGUAGE="JavaScript">
                    function confirmAdd()
                    {
                    var agree=confirm("Are you sure you wish to redirect to add materials?");
                    if (agree)
                     return true ;
                    else
                     return false ;
                    }
                </script>

                <script LANGUAGE="JavaScript">
                    function confirmDelete()
                    {
                    var agree=confirm("Are you sure you wish to redirect to delete materials?");
                    if (agree)
                     return true ;
                    else
                     return false ;
                    }
                </script>

                <br>
                <!-- <input type="button" value="Back" href="{{request.META.HTTP_REFERER|escape}}" style="display: flex;"> -->
                <div class=buttoncontainer>
                    <a href="{{request.META.HTTP_REFERER|escape}}" class="button">Back</a>
                    
                    <INPUT TYPE='submit' value='Add Materials' name='Add Materials' onClick='return confirmAddMaterials()'>
                    <!-- <button type="submit" class="submit" onclick="addmaterials()">Add Materials</button> -->                   
                    <!-- <button name="delete" type="button" class="submit" value="delete">Delete Materials</button> -->
                    <!-- <button onclick="location.href = '/deletematerials'">Delete Materials</button> -->
                    <!-- <button type="submit" class="submit" a href="/deletematerials"></a> -->
                    <!-- <button type="submit" class="submit" a href="deletematerials.html">Delete Materials</a></button>--> 
                    <INPUT TYPE='submit' value='Delete Materials' name='delete' onClick='return confirmDelete()'>
                </div>

                <script type = "text/javascript">
                    function addmaterials() {
                        window.location = "http://127.0.0.1:8000/addmaterials";
                    }
                </script>

                <br>
            
        </div>
        </body>
        {% endblock content %}
    </html>